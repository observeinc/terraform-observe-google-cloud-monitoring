{
  "icon_url": "",
  "id": "41112606",
  "layout": "{\"gridLayout\":{\"sections\":[{\"card\":{\"cardType\":\"section\",\"closed\":false,\"id\":\"section-rdg13moy\",\"title\":\"Dashboard Content\"},\"items\":[{\"card\":{\"cardType\":\"parameter\",\"id\":\"card-mzacka5y\",\"parameterId\":\"loadBalancer\"},\"layout\":{\"h\":4,\"i\":\"card-mzacka5y\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":4,\"x\":0,\"y\":0}}]},{\"card\":{\"cardType\":\"section\",\"closed\":false,\"id\":\"card-ey5ihwgg\",\"title\":\"Overview\"},\"items\":[{\"card\":{\"cardType\":\"stage\",\"id\":\"card-ja13bhbw\",\"stageId\":\"stage-tx1rkfnd\"},\"layout\":{\"h\":9,\"i\":\"card-ja13bhbw\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":3,\"x\":0,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-1zp0tq3q\",\"stageId\":\"stage-9ft6c9cp\"},\"layout\":{\"h\":9,\"i\":\"card-1zp0tq3q\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":3,\"x\":3,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-vd8zua4k\",\"stageId\":\"stage-vqzhut38\"},\"layout\":{\"h\":9,\"i\":\"card-vd8zua4k\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":3,\"x\":6,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-fjiepgem\",\"stageId\":\"stage-4qwukcmr\"},\"layout\":{\"h\":9,\"i\":\"card-fjiepgem\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":3,\"x\":9,\"y\":0}}]},{\"card\":{\"cardType\":\"section\",\"closed\":false,\"id\":\"card-zzx5eq4c\",\"title\":\"Application (L7) Load Balancing\"},\"items\":[{\"card\":{\"cardType\":\"stage\",\"id\":\"card-nyjrh7q7\",\"stageId\":\"stage-jy2wr83a\"},\"layout\":{\"h\":9,\"i\":\"card-nyjrh7q7\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":3,\"x\":3,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-ww7lzepq\",\"stageId\":\"stage-vkd1umm8\"},\"layout\":{\"h\":9,\"i\":\"card-ww7lzepq\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":3,\"x\":0,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-pvb3zzlb\",\"stageId\":\"stage-ppwpd4mt\"},\"lastModified\":1659123842743,\"layout\":{\"h\":9,\"i\":\"card-pvb3zzlb---1659123842743\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":3,\"x\":6,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-r5orvfww\",\"stageId\":\"stage-ge1qf59k\"},\"layout\":{\"h\":9,\"i\":\"card-r5orvfww\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":3,\"x\":9,\"y\":0}},{\"card\":{\"cardType\":\"parameter\",\"id\":\"card-s25n90rl\",\"parameterId\":\"responseCode\"},\"layout\":{\"h\":4,\"i\":\"card-s25n90rl\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":2,\"x\":0,\"y\":3}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-a48dc8wx\",\"stageId\":\"stage-9zsapdre\"},\"layout\":{\"h\":18,\"i\":\"card-a48dc8wx\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":10,\"x\":2,\"y\":3}},{\"card\":{\"cardType\":\"parameter\",\"id\":\"card-mh1y25wz\",\"parameterId\":\"responseCodeClass\"},\"layout\":{\"h\":4,\"i\":\"card-mh1y25wz\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"resizeHandles\":[\"e\"],\"static\":false,\"w\":2,\"x\":0,\"y\":7}},{\"card\":{\"cardType\":\"parameter\",\"id\":\"card-d5ua3cqa\",\"parameterId\":\"countGroupBy\"},\"layout\":{\"h\":10,\"i\":\"card-d5ua3cqa\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":2,\"x\":0,\"y\":11}},{\"card\":{\"cardType\":\"parameter\",\"id\":\"card-dkdx4d1o\",\"parameterId\":\"latencyType\"},\"layout\":{\"h\":4,\"i\":\"card-dkdx4d1o\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"resizeHandles\":[\"e\"],\"static\":false,\"w\":2,\"x\":0,\"y\":21}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-iv7tqke5\",\"stageId\":\"stage-tww25crx\"},\"layout\":{\"h\":18,\"i\":\"card-iv7tqke5\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":10,\"x\":2,\"y\":21}},{\"card\":{\"cardType\":\"parameter\",\"id\":\"card-zs6k4ka5\",\"parameterId\":\"percentile\"},\"layout\":{\"h\":4,\"i\":\"card-zs6k4ka5\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"resizeHandles\":[\"e\"],\"static\":false,\"w\":2,\"x\":0,\"y\":25}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-4eq8wggn\",\"stageId\":\"stage-uywqiqvc\"},\"layout\":{\"h\":11,\"i\":\"card-4eq8wggn\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":0,\"y\":39}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-3xucb1ez\",\"stageId\":\"stage-3zbaxk0o\"},\"layout\":{\"h\":11,\"i\":\"card-3xucb1ez\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":6,\"y\":39}}]},{\"card\":{\"cardType\":\"section\",\"closed\":false,\"id\":\"card-nzgdessb\",\"title\":\"Network (L4) Load Balancing\"},\"items\":[{\"card\":{\"cardType\":\"stage\",\"id\":\"card-854b9mq1\",\"stageId\":\"stage-q1xd6oka\"},\"layout\":{\"h\":11,\"i\":\"card-854b9mq1\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":0,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-rrd2pjng\",\"stageId\":\"stage-gcfx82a3\"},\"layout\":{\"h\":11,\"i\":\"card-rrd2pjng\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":6,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-f8wesspp\",\"stageId\":\"stage-pmkx32rn\"},\"layout\":{\"h\":11,\"i\":\"card-f8wesspp\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":6,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-olt4ydzv\",\"stageId\":\"stage-167x70ol\"},\"layout\":{\"h\":11,\"i\":\"card-olt4ydzv\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":0,\"y\":0}},{\"card\":{\"cardType\":\"parameter\",\"id\":\"card-2yiq2zz0\",\"parameterId\":\"percentileL4\"},\"layout\":{\"h\":4,\"i\":\"card-2yiq2zz0\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"resizeHandles\":[\"e\"],\"static\":false,\"w\":6,\"x\":0,\"y\":0}},{\"card\":{\"cardType\":\"parameter\",\"id\":\"card-73ud7guo\",\"parameterId\":\"connectionsType\"},\"layout\":{\"h\":4,\"i\":\"card-73ud7guo\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"resizeHandles\":[\"e\"],\"static\":false,\"w\":6,\"x\":6,\"y\":0}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-3fbqwekc\",\"stageId\":\"stage-1jze8q9d\"},\"layout\":{\"h\":15,\"i\":\"card-3fbqwekc\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":0,\"y\":3}},{\"card\":{\"cardType\":\"stage\",\"id\":\"card-ynoljyix\",\"stageId\":\"stage-vvzswmar\"},\"layout\":{\"h\":15,\"i\":\"card-ynoljyix\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":6,\"y\":3}}]},{\"card\":{\"cardType\":\"section\",\"closed\":false,\"id\":\"card-r6b6nqam\",\"title\":\"Configurations\"},\"items\":[{\"card\":{\"cardType\":\"stage\",\"id\":\"card-80kt8ieu\",\"stageId\":\"stage-3n2avegm\"},\"layout\":{\"h\":15,\"i\":\"card-80kt8ieu\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":12,\"x\":0,\"y\":0}}]},{\"card\":{\"cardType\":\"section\",\"closed\":false,\"id\":\"card-f3sx8yoe\",\"title\":\"Note \\u0026 Documentation\"},\"items\":[{\"card\":{\"cardType\":\"text\",\"id\":\"card-zj5yjyba\",\"text\":\"# Cloud Load Balancing\\n\\nA load balancer distributes user traffic across multiple instances of your applications. By spreading the load, load balancing reduces the risk that your applications experience performance issues.\\n\\n![Sample Overview](https://cloud.google.com/static/load-balancing/images/lb-simple-overview.svg)\\n\\nhttps://cloud.google.com/load-balancing/docs/load-balancing-overview\",\"title\":\"Untitled Text\"},\"layout\":{\"h\":27,\"i\":\"card-zj5yjyba\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":0,\"y\":0}},{\"card\":{\"cardType\":\"text\",\"id\":\"card-2ks1qsqn\",\"text\":\"# Notes\\n\\n**Metrics**\\n\\nEnable data collection for this app by enabling Observeâ€™s GCP app and adding `loadbalancing.googleapis.com` to the `include_metric_type_prefixes` option (this is added by default in the standard configuration).\\n\\n**Logs**\\n\\nTo enable logs [edit your backend service and select \\\"enable logging.\\\"](https://cloud.google.com/load-balancing/docs/https/https-logging-monitoring#logging) Logs for backend buckets are enabled by default.  \\n\\n**Health Check Logs**\\n\\nHealth check logs capture state-changes of your LB backend groups. To enable them, [edit your health check and set the \\\"Logs\\\" radio button to \\\"on\\\".](https://cloud.google.com/load-balancing/docs/health-check-logging#enabling_and_disabling_logging)\",\"title\":\"Untitled Text\"},\"layout\":{\"h\":27,\"i\":\"card-2ks1qsqn\",\"isDraggable\":true,\"isResizable\":true,\"moved\":false,\"static\":false,\"w\":6,\"x\":6,\"y\":0}}],\"lastModified\":1660078040949}]},\"stageListLayout\":{\"isModified\":false,\"parameters\":[{\"defaultValue\":{\"datasetref\":{\"datasetId\":\"${dataset_id_load_balancers}\"}},\"id\":\"loadBalancer\",\"name\":\"Load Balancer\",\"valueKind\":{\"type\":\"DATASETREF\"},\"viewType\":\"input\"},{\"defaultValue\":{\"datasetref\":{\"datasetId\":\"${dataset_id_backend_services}\"}},\"id\":\"backendService\",\"name\":\"Backend Service\",\"valueKind\":{\"type\":\"DATASETREF\"},\"viewType\":\"input\"},{\"defaultValue\":{\"int64\":\"95\"},\"id\":\"percentileNUMBER\",\"name\":\"PercentileOLD\",\"valueKind\":{\"type\":\"INT64\"},\"viewType\":\"numeric\"},{\"defaultValue\":{\"string\":\"backend_latencies\"},\"id\":\"latencyType\",\"name\":\"Latency Type\",\"source\":\"CustomData\",\"sourceCustomData\":{\"Backend Latency\":\"backend_latencies\",\"Frontend RTT\":\"frontend_tcp_rtt\",\"Total Latency\":\"total_latencies\"},\"valueKind\":{\"type\":\"STRING\"},\"viewType\":\"single-select\"},{\"id\":\"responseCodeOLD\",\"name\":\"Response CodeOLD\",\"source\":\"Stage\",\"sourceColumnId\":\"response_code\",\"sourceStageId\":\"stage-ql7gvb9v\",\"valueKind\":{\"type\":\"STRING\"},\"viewType\":\"single-select\"},{\"defaultValue\":{\"string\":\"all\"},\"id\":\"responseCodeClass\",\"name\":\"Response Code Class\",\"source\":\"CustomData\",\"sourceCustomData\":{\"2xx\":\"200\",\"3xx\":\"300\",\"4xx\":\"400\",\"5xx\":\"500\",\"all\":\"all\"},\"valueKind\":{\"type\":\"STRING\"},\"viewType\":\"single-select\"},{\"defaultValue\":{\"string\":\"response_code_class\"},\"id\":\"countGroupBy\",\"name\":\"Group By\",\"source\":\"CustomData\",\"sourceCustomData\":{\"Response Code\":\"response_code\",\"Response Code Class\":\"response_code_class\"},\"valueKind\":{\"type\":\"STRING\"},\"viewType\":\"single-select\"},{\"defaultValue\":{\"string\":\"avg\"},\"id\":\"percentile\",\"name\":\"Percentile\",\"source\":\"CustomData\",\"sourceCustomData\":{\"avg\":\"avg\",\"p05\":\"p05\",\"p50\":\"p50\",\"p95\":\"p95\",\"p99\":\"p99\"},\"valueKind\":{\"type\":\"STRING\"},\"viewType\":\"single-select\"},{\"defaultValue\":{\"string\":\"open_connections\"},\"id\":\"connectionsType\",\"name\":\"Connections Type\",\"source\":\"CustomData\",\"sourceCustomData\":{\"Closed\":\"closed_connections\",\"New\":\"new_connections\",\"Open\":\"open_connections\"},\"valueKind\":{\"type\":\"STRING\"},\"viewType\":\"single-select\"},{\"defaultValue\":{\"string\":\"\"},\"id\":\"responseCode\",\"name\":\"Response Code\",\"valueKind\":{\"type\":\"STRING\"},\"viewType\":\"text\"},{\"defaultValue\":{\"string\":\"avg\"},\"id\":\"percentileL4\",\"name\":\"Percentile\",\"source\":\"CustomData\",\"sourceCustomData\":{\"avg\":\"avg\",\"p05\":\"p05\",\"p50\":\"p50\",\"p95\":\"p95\",\"p99\":\"p99\"},\"valueKind\":{\"type\":\"STRING\"},\"viewType\":\"single-select\"}],\"selectedStageId\":\"stage-1jze8q9d\",\"timeRange\":{\"display\":\"Past 4 hours\",\"endTime\":null,\"millisFromCurrentTime\":14400000,\"originalDisplay\":\"Past 4 hours\",\"startTime\":null,\"timeRangeInfo\":{\"key\":\"PRESETS\",\"name\":\"Presets\",\"presetType\":\"PAST_4_HOURS\"},\"timeZone\":null}}}",
  "name": "Backup_Google/GCP/Load Balancing Monitoring - 2-4",
  "oid": "o:::dashboard:41112606",
  "parameter_values": null,
  "parameters": "[{\"id\":\"loadBalancer\",\"name\":\"Load Balancer\",\"defaultValue\":{\"datasetref\":{\"datasetId\":\"${dataset_id_load_balancers}\"}},\"valueKind\":{\"type\":\"DATASETREF\"}},{\"id\":\"backendService\",\"name\":\"Backend Service\",\"defaultValue\":{\"datasetref\":{\"datasetId\":\"${dataset_id_backend_services}\"}},\"valueKind\":{\"type\":\"DATASETREF\"}},{\"id\":\"percentileNUMBER\",\"name\":\"PercentileOLD\",\"defaultValue\":{\"int64\":\"95\"},\"valueKind\":{\"type\":\"INT64\"}},{\"id\":\"latencyType\",\"name\":\"Latency Type\",\"defaultValue\":{\"string\":\"backend_latencies\"},\"valueKind\":{\"type\":\"STRING\"}},{\"id\":\"responseCodeOLD\",\"name\":\"Response CodeOLD\",\"valueKind\":{\"type\":\"STRING\"}},{\"id\":\"responseCodeClass\",\"name\":\"Response Code Class\",\"defaultValue\":{\"string\":\"all\"},\"valueKind\":{\"type\":\"STRING\"}},{\"id\":\"countGroupBy\",\"name\":\"Group By\",\"defaultValue\":{\"string\":\"response_code_class\"},\"valueKind\":{\"type\":\"STRING\"}},{\"id\":\"percentile\",\"name\":\"Percentile\",\"defaultValue\":{\"string\":\"avg\"},\"valueKind\":{\"type\":\"STRING\"}},{\"id\":\"connectionsType\",\"name\":\"Connections Type\",\"defaultValue\":{\"string\":\"open_connections\"},\"valueKind\":{\"type\":\"STRING\"}},{\"id\":\"responseCode\",\"name\":\"Response Code\",\"defaultValue\":{\"string\":\"\"},\"valueKind\":{\"type\":\"STRING\"}},{\"id\":\"percentileL4\",\"name\":\"Percentile\",\"defaultValue\":{\"string\":\"avg\"},\"valueKind\":{\"type\":\"STRING\"}}]",
  "stages": "[{\"id\":\"stage-1n9iot0m\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancers}\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"map_path\",\"2\":\"Valid From\",\"3\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":true,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":0,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancers}\",\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"isUserInput\":false}],\"label\":\"parameter_latency\",\"managers\":[{\"id\":\"salqcp25\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-1n9iot0m\",\"type\":\"Timescrubber\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"IPAddress\":\"count\",\"IPProtocol\":\"count\",\"IPVersion\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"frontEnd\":\"count\",\"hostRules\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"name\":\"count\",\"networkTier\":\"count\",\"pathMatchers\":\"count\",\"portRange\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"selfLink\":\"count\",\"targetProxy\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-95da0go7\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-qgp3sb09\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Load Balancers (${dataset_id_load_balancers})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"IPAddress\":\"count\",\"IPProtocol\":\"count\",\"IPVersion\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"frontEnd\":\"count\",\"hostRules\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"metric_substring\":\"count\",\"name\":\"count\",\"networkTier\":\"count\",\"parameter\":\"count\",\"pathMatchers\":\"count\",\"portRange\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"selfLink\":\"count\",\"targetProxy\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-r13roi14\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-7ew1hmzy\",\"index\":1,\"isPinned\":false,\"name\":\"make_col (custom)\",\"opal\":[\"make_col single:1\",\"timestats \\\"single Count Values\\\":count(single), group_by(single)\",\"\",\"make_col map_array:make_array(\",\"  make_object(parameter:\\\"Total Latency\\\", metric_substring:\\\"total_latencies\\\"),\",\"  make_object(parameter:\\\"Backend Latency\\\", metric_substring:\\\"backend_latencies\\\"),\",\"  make_object(parameter:\\\"Frontend RTT\\\", metric_substring:\\\"frontend_tcp_rtt\\\"))\",\"\",\"flatten_single map_array\",\"\",\"make_col map:parse_json(string(_c_map_array_value))\",\"\",\"make_col \",\"  parameter:string(map.parameter), \",\"  metric_substring:string(map.metric_substring)\",\"\",\"rename_col map_path:@.\\\"_c_map_array_path\\\"\",\"\",\"colshow \",\"  single:false,\",\"  map:false,\",\"  map_path:false\",\"\",\"drop_col \",\"  @.\\\"single Count Values\\\",\",\"  @.\\\"_c_map_array_value\\\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"make_col single:1\\ntimestats \\\"single Count Values\\\":count(single), group_by(single)\\n\\nmake_col map_array:make_array(\\n  make_object(parameter:\\\"Total Latency\\\", metric_substring:\\\"total_latencies\\\"),\\n  make_object(parameter:\\\"Backend Latency\\\", metric_substring:\\\"backend_latencies\\\"),\\n  make_object(parameter:\\\"Frontend RTT\\\", metric_substring:\\\"frontend_tcp_rtt\\\"))\\n\\nflatten_single map_array\\n\\nmake_col map:parse_json(string(_c_map_array_value))\\n\\nmake_col \\n  parameter:string(map.parameter), \\n  metric_substring:string(map.metric_substring)\\n\\nrename_col map_path:@.\\\"_c_map_array_path\\\"\\n\\ncolshow \\n  single:false,\\n  map:false,\\n  map_path:false\\n\\ndrop_col \\n  @.\\\"single Count Values\\\",\\n  @.\\\"_c_map_array_value\\\"\"},{\"id\":\"stage-ql7gvb9v\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{\"reponse_code\":220,\"response_code\":207},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":true,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":1,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"parameter_response_code\",\"managers\":[{\"id\":\"lsrm9zd6\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-ql7gvb9v\",\"type\":\"Timescrubber\"},{\"columnId\":\"reponse_code\",\"id\":\"eoqhxzwc\",\"isDisabled\":true,\"parentStageId\":\"stage-ql7gvb9v\",\"type\":\"FacetFilter\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-sbi9zuds\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-s8osam42\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"response_code\":\"count\",\"response_code_class\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-tcq6wpcz\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-mq0kqs6l\",\"index\":1,\"isPinned\":false,\"name\":\"// (custom)\",\"opal\":[\"// exists url_map_name = @loadBalancer.name\",\"// exists backend_name = @backendService.name\",\"filter ends_with(metric, \\\"request_count\\\")\",\"make_col \",\"\\tresponse_code:string(metric_labels.response_code),\",\"    response_code_class:string(metric_labels.response_code_class)\",\"statsby response_code_class:last(response_code_class, order_by(response_code)), group_by(response_code)\",\"//merge_events true, count:count(response_code), order_by(response_code), group_by(response_code)\",\"/*\",\"make_resource \",\"\\tresponse_code_class,\",\"    primary_key(response_code)\",\"*/\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"// exists url_map_name = @loadBalancer.name\\n// exists backend_name = @backendService.name\\nfilter ends_with(metric, \\\"request_count\\\")\\nmake_col \\n\\tresponse_code:string(metric_labels.response_code),\\n    response_code_class:string(metric_labels.response_code_class)\\nstatsby response_code_class:last(response_code_class, order_by(response_code)), group_by(response_code)\\n//merge_events true, count:count(response_code), order_by(response_code), group_by(response_code)\\n/*\\nmake_resource \\n\\tresponse_code_class,\\n    primary_key(response_code)\\n*/\"},{\"id\":\"stage-dw6losbz\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancers}\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"map_path\",\"2\":\"Valid From\",\"3\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":true,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":2,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancers}\",\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"isUserInput\":false}],\"label\":\"parameter_count_group_by\",\"managers\":[{\"id\":\"salqcp25\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-dw6losbz\",\"type\":\"Timescrubber\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-b9olpxju\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Load Balancers (${dataset_id_load_balancers})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"group_by_field\":\"count\",\"parameter\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-ewe7k3sr\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-9ra5pmwm\",\"index\":1,\"isPinned\":false,\"name\":\"make_col (custom)\",\"opal\":[\"make_col single:1\",\"timestats \\\"single Count Values\\\":count(single), group_by(single)\",\"\",\"make_col map_array:make_array(\",\"  make_object(parameter:\\\"Response Code\\\", group_by_field:\\\"response_code\\\"),\",\"  make_object(parameter:\\\"Respose Code Class\\\", group_by_field:\\\"response_code_class\\\"))\",\"\",\"flatten_single map_array\",\"\",\"make_col map:parse_json(string(_c_map_array_value))\",\"\",\"make_col \",\"  parameter:string(map.parameter), \",\"  group_by_field:string(map.group_by_field)\",\"\",\"rename_col map_path:@.\\\"_c_map_array_path\\\"\",\"\",\"colshow \",\"  single:false,\",\"  map:false,\",\"  map_path:false\",\"\",\"drop_col \",\"  @.\\\"single Count Values\\\",\",\"  @.\\\"_c_map_array_value\\\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"make_col single:1\\ntimestats \\\"single Count Values\\\":count(single), group_by(single)\\n\\nmake_col map_array:make_array(\\n  make_object(parameter:\\\"Response Code\\\", group_by_field:\\\"response_code\\\"),\\n  make_object(parameter:\\\"Respose Code Class\\\", group_by_field:\\\"response_code_class\\\"))\\n\\nflatten_single map_array\\n\\nmake_col map:parse_json(string(_c_map_array_value))\\n\\nmake_col \\n  parameter:string(map.parameter), \\n  group_by_field:string(map.group_by_field)\\n\\nrename_col map_path:@.\\\"_c_map_array_path\\\"\\n\\ncolshow \\n  single:false,\\n  map:false,\\n  map_path:false\\n\\ndrop_col \\n  @.\\\"single Count Values\\\",\\n  @.\\\"_c_map_array_value\\\"\"},{\"id\":\"stage-mw1r5tnp\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancers}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":3,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancers}\",\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"Project\",\"managers\":[{\"id\":\"g5iw2ay2\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-mw1r5tnp\",\"type\":\"Timescrubber\"},{\"id\":\"fgsg7u4g\",\"isDisabled\":false,\"parentStageId\":\"stage-mw1r5tnp\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"project_id\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"IPAddress\":\"count\",\"IPProtocol\":\"count\",\"IPVersion\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"frontEnd\":\"count\",\"hostRules\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"name\":\"count\",\"networkTier\":\"count\",\"pathMatchers\":\"count\",\"portRange\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"selfLink\":\"count\",\"targetProxy\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-btnohk3w\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-2xdl2i46\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Load Balancers (${dataset_id_load_balancers})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-xa5v4e91\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists name = @loadBalancer.name\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists name = @loadBalancer.name\"},{\"id\":\"stage-rmm68z6h\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancers}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":4,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancers}\",\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"Region\",\"managers\":[{\"id\":\"oqudqs4i\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-rmm68z6h\",\"type\":\"Timescrubber\"},{\"id\":\"89yyqwv2\",\"isDisabled\":false,\"parentStageId\":\"stage-rmm68z6h\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"region\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"IPAddress\":\"count\",\"IPProtocol\":\"count\",\"IPVersion\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"frontEnd\":\"count\",\"hostRules\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"name\":\"count\",\"networkTier\":\"count\",\"pathMatchers\":\"count\",\"portRange\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"selfLink\":\"count\",\"targetProxy\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-py1obqsu\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-ppj3sw39\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Load Balancers (${dataset_id_load_balancers})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"IPAddress\":\"count\",\"IPProtocol\":\"count\",\"IPVersion\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"frontEnd\":\"count\",\"hostRules\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"name\":\"count\",\"networkTier\":\"count\",\"pathMatchers\":\"count\",\"portRange\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"selfLink\":\"count\",\"targetProxy\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-jdowf16y\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-6jqwkoz0\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists name = @loadBalancer.name\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists name = @loadBalancer.name\"},{\"id\":\"stage-1cfzj156\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancers}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":5,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancers}\",\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"Load Balancing Scheme\",\"managers\":[{\"id\":\"pv9fx9ja\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-1cfzj156\",\"type\":\"Timescrubber\"},{\"id\":\"6o0c2ufl\",\"isDisabled\":false,\"parentStageId\":\"stage-1cfzj156\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"loadBalancingScheme\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"IPAddress\":\"count\",\"IPProtocol\":\"count\",\"IPVersion\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"frontEnd\":\"count\",\"hostRules\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"name\":\"count\",\"networkTier\":\"count\",\"pathMatchers\":\"count\",\"portRange\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"selfLink\":\"count\",\"targetProxy\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-lza4bvqv\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-lxul0wcs\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Load Balancers (${dataset_id_load_balancers})\",\"type\":\"InputStep\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":\"exists name = @loadBalancer.name\",\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"\"},{\"id\":\"stage-ldnnq0dl\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancers}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":6,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancers}\",\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"Network Tier\",\"managers\":[{\"id\":\"nsmd3pm0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-ldnnq0dl\",\"type\":\"Timescrubber\"},{\"id\":\"dozqrr12\",\"isDisabled\":false,\"parentStageId\":\"stage-ldnnq0dl\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"networkTier\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"IPAddress\":\"count\",\"IPProtocol\":\"count\",\"IPVersion\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"frontEnd\":\"count\",\"hostRules\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"name\":\"count\",\"networkTier\":\"count\",\"pathMatchers\":\"count\",\"portRange\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"selfLink\":\"count\",\"targetProxy\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-crt0zuku\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-fw0p6pug\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Load Balancers (${dataset_id_load_balancers})\",\"type\":\"InputStep\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":\"exists name = @loadBalancer.name\",\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"\"},{\"id\":\"stage-9zsapdre\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":false,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"responseCodeGroup\",\"1\":\"url_map_name\",\"2\":\"backend_target_name\",\"3\":\"_c_valid_from\",\"4\":\"_c_valid_to\",\"5\":\"start_time\"},\"columnVisibility\":{},\"columnWidths\":{\"backend_name\":360},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":337,\"tableView\":\"TABULAR\"},\"index\":7,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"Request Count\",\"managers\":[{\"id\":\"qc3reb64\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-9zsapdre\",\"type\":\"Timescrubber\"},{\"id\":\"mnn5y7v3\",\"isDisabled\":false,\"parentStageId\":\"stage-9zsapdre\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"responseCodeGroup\",\"load_balancer_name\",[\"backend_target_name\"]],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-tjslxfw1\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-oefp9wfs\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-i61akjg7\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-aa59l81z\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists load_balancer_name = @loadBalancer.name\",\"filter ends_with(metric, \\\"request_count\\\")\",\"\\tand not metric = \\\"https_backend_request_count\\\"\",\"make_col \",\"\\tresponse_code:string(metric_labels.response_code),\",\"    response_code_class:string(metric_labels.response_code_class)\",\"filter $responseCode = \\\"\\\" or response_code = $responseCode\",\"filter $responseCodeClass = \\\"all\\\" or response_code_class = $responseCodeClass\",\"\",\"make_col responseCodeGroup:case(\",\"\\t$countGroupBy = \\\"response_code\\\", response_code,\",\"    $countGroupBy = \\\"response_code_class\\\", strcat(left(response_code_class,1), \\\"xx\\\"),\",\"    true, strcat(left(response_code_class,1), \\\"xx\\\"))\",\"\",\"timechart duration(from_milliseconds(278709)), value:sum(value), group_by(responseCodeGroup, load_balancer_name, backend_target_name)\",\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists load_balancer_name = @loadBalancer.name\\nfilter ends_with(metric, \\\"request_count\\\")\\n\\tand not metric = \\\"https_backend_request_count\\\"\\nmake_col \\n\\tresponse_code:string(metric_labels.response_code),\\n    response_code_class:string(metric_labels.response_code_class)\\nfilter $responseCode = \\\"\\\" or response_code = $responseCode\\nfilter $responseCodeClass = \\\"all\\\" or response_code_class = $responseCodeClass\\n\\nmake_col responseCodeGroup:case(\\n\\t$countGroupBy = \\\"response_code\\\", response_code,\\n    $countGroupBy = \\\"response_code_class\\\", strcat(left(response_code_class,1), \\\"xx\\\"),\\n    true, strcat(left(response_code_class,1), \\\"xx\\\"))\\n\\ntimechart duration(from_milliseconds(278709)), value:sum(value), group_by(responseCodeGroup, load_balancer_name, backend_target_name)\\n\"},{\"id\":\"stage-ppwpd4mt\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"start_time\",\"1\":\"end_time\",\"10\":\"region\",\"11\":\"backend_name\",\"12\":\"backend_target_name\",\"13\":\"forwarding_rule_name\",\"14\":\"target_proxy_name\",\"15\":\"load_balancer_name\",\"16\":\"url_map_name\",\"17\":\"distribution_metadata\",\"18\":\"label\",\"2\":\"metric_kind\",\"3\":\"metric_type\",\"4\":\"resource_labels\",\"5\":\"metric_labels\",\"6\":\"response_code\",\"7\":\"response_code_class\",\"8\":\"value_type\",\"9\":\"project_id\"},\"columnVisibility\":{},\"columnWidths\":{\"backend_name\":360},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":8,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"4xx Count\",\"managers\":[{\"id\":\"qc3reb64\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-ppwpd4mt\",\"type\":\"Timescrubber\"},{\"id\":\"mnn5y7v3\",\"isDisabled\":false,\"parentStageId\":\"stage-ppwpd4mt\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"colorConfigType\":\"Color\",\"fieldConfig\":{\"unit\":null,\"visible\":false},\"singleStatLabel\":\"4xx Count\",\"thresholds\":null,\"type\":\"singlefield\"},\"source\":{\"table\":{\"field\":\"value\",\"groupFields\":[\"label\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"sum\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"singlefield\"},\"type\":\"table\"},\"type\":\"singlevalue\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-3m7ascej\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-m4yjza9e\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists load_balancer_name = @loadBalancer.name\",\"filter ends_with(metric, \\\"request_count\\\")\",\"\\tand not metric = \\\"https_backend_request_count\\\"\",\"make_col \",\"\\tresponse_code:string(metric_labels.response_code),\",\"    response_code_class:string(metric_labels.response_code_class),\",\"    label:\\\"\\\"\",\"filter response_code_class = \\\"400\\\"\",\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists load_balancer_name = @loadBalancer.name\\nfilter ends_with(metric, \\\"request_count\\\")\\n\\tand not metric = \\\"https_backend_request_count\\\"\\nmake_col \\n\\tresponse_code:string(metric_labels.response_code),\\n    response_code_class:string(metric_labels.response_code_class),\\n    label:\\\"\\\"\\nfilter response_code_class = \\\"400\\\"\\n\"},{\"id\":\"stage-ge1qf59k\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{},\"columnVisibility\":{},\"columnWidths\":{\"backend_name\":360},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":9,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"5xx Count\",\"managers\":[{\"id\":\"qc3reb64\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-ge1qf59k\",\"type\":\"Timescrubber\"},{\"id\":\"mnn5y7v3\",\"isDisabled\":false,\"parentStageId\":\"stage-ge1qf59k\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"colorConfigType\":\"Color\",\"fieldConfig\":{\"unit\":null,\"visible\":false},\"singleStatLabel\":\"5xx Count\",\"thresholds\":null,\"type\":\"singlefield\"},\"source\":{\"table\":{\"field\":\"value\",\"groupFields\":[\"label\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"sum\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"singlefield\"},\"type\":\"table\"},\"type\":\"singlevalue\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-8vhxm6ly\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-d5pj5r7b\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists load_balancer_name = @loadBalancer.name\",\"filter ends_with(metric, \\\"request_count\\\")\",\"\\tand not metric = \\\"https_backend_request_count\\\"\",\"make_col \",\"\\tresponse_code:string(metric_labels.response_code),\",\"    response_code_class:string(metric_labels.response_code_class),\",\"    label:\\\"\\\"\",\"filter response_code_class = \\\"500\\\"\",\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists load_balancer_name = @loadBalancer.name\\nfilter ends_with(metric, \\\"request_count\\\")\\n\\tand not metric = \\\"https_backend_request_count\\\"\\nmake_col \\n\\tresponse_code:string(metric_labels.response_code),\\n    response_code_class:string(metric_labels.response_code_class),\\n    label:\\\"\\\"\\nfilter response_code_class = \\\"500\\\"\\n\"},{\"id\":\"stage-rhpnglh0\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"},{\"inputName\":\"parameter_latency_-1n9i\",\"inputRole\":\"Data\",\"stageId\":\"stage-1n9iot0m\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"backend_target_name\",\"2\":\"_c_valid_from\",\"3\":\"_c_valid_to\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":10,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"},{\"inputName\":\"parameter_latency_-1n9i\",\"inputRole\":\"Data\",\"isUserInput\":true,\"stageId\":\"stage-1n9iot0m\"}],\"label\":\"Latency_ORIGINAL\",\"managers\":[{\"id\":\"aqc3ihlz\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-rhpnglh0\",\"type\":\"Timescrubber\"},{\"id\":\"y13pm47z\",\"isDisabled\":false,\"parentStageId\":\"stage-rhpnglh0\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"milliseconds\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[[\"url_map_name\"],[\"backend_target_name\"]],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"any\",\"fnArgs\":[],\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-3903589s\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-nf8yrrsp\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-ix1pn17d\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists url_map_name = @loadBalancer.name\",\"exists backend_target_name = @backendService.name\",\"filter starts_with(metric, \\\"https_\\\") and ends_with(metric, $latencyType)\",\"\",\"make_col value:case(\",\"\\t$percentile = \\\"avg\\\", window(avg(value)),\",\"    $percentile = \\\"p99\\\", window(percentile(value, 0.99)),\",\"    $percentile = \\\"p98\\\", window(percentile(value, 0.98)),\",\"    $percentile = \\\"p95\\\", window(percentile(value, 0.95)),\",\"    $percentile = \\\"p90\\\", window(percentile(value, 0.90)),\",\"    $percentile = \\\"p75\\\", window(percentile(value, 0.75)),\",\"    $percentile = \\\"p50\\\", window(percentile(value, 0.50)),\",\"    $percentile = \\\"p05\\\", window(percentile(value, 0.05)),\",\"    true, window(avg(value)))\",\"\",\"timechart value:sum(value), group_by(url_map_name, backend_target_name)\",\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":\"exists load_balancer_name = @loadBalancer.name\\nexists backend_target_name = @backendService.name\\nfilter starts_with(metric, \\\"https_\\\") and ends_with(metric, $latencyType)\\n\\nmake_col value:case(\\n\\t$percentile = \\\"avg\\\", window(avg(value)),\\n    $percentile = \\\"p99\\\", window(percentile(value, 0.99)),\\n    $percentile = \\\"p98\\\", window(percentile(value, 0.98)),\\n    $percentile = \\\"p95\\\", window(percentile(value, 0.95)),\\n    $percentile = \\\"p90\\\", window(percentile(value, 0.90)),\\n    $percentile = \\\"p75\\\", window(percentile(value, 0.75)),\\n    $percentile = \\\"p50\\\", window(percentile(value, 0.50)),\\n    $percentile = \\\"p05\\\", window(percentile(value, 0.05)),\\n    true, window(avg(value)))\\n\\ntimechart value:sum(value), group_by(url_map_name, backend_target_name)\\n\",\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists url_map_name = @loadBalancer.name\\nexists backend_target_name = @backendService.name\\nfilter starts_with(metric, \\\"https_\\\") and ends_with(metric, $latencyType)\\n\\nmake_col value:case(\\n\\t$percentile = \\\"avg\\\", window(avg(value)),\\n    $percentile = \\\"p99\\\", window(percentile(value, 0.99)),\\n    $percentile = \\\"p98\\\", window(percentile(value, 0.98)),\\n    $percentile = \\\"p95\\\", window(percentile(value, 0.95)),\\n    $percentile = \\\"p90\\\", window(percentile(value, 0.90)),\\n    $percentile = \\\"p75\\\", window(percentile(value, 0.75)),\\n    $percentile = \\\"p50\\\", window(percentile(value, 0.50)),\\n    $percentile = \\\"p05\\\", window(percentile(value, 0.05)),\\n    true, window(avg(value)))\\n\\ntimechart value:sum(value), group_by(url_map_name, backend_target_name)\\n\"},{\"id\":\"stage-1dxli7rf\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancers}\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"map_path\",\"2\":\"Valid From\",\"3\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":true,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":11,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancers}\",\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"isUserInput\":false}],\"label\":\"parameter_percentile\",\"managers\":[{\"id\":\"salqcp25\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-1dxli7rf\",\"type\":\"Timescrubber\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-jk7968h2\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Load Balancers (${dataset_id_load_balancers})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"parameter\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-7my0pt0m\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-37ko2mks\",\"index\":1,\"isPinned\":false,\"name\":\"make_col (custom)\",\"opal\":[\"make_col single:1\",\"timestats \\\"single Count Values\\\":count(single), group_by(single)\",\"\",\"make_col param_list:make_array(\\\"avg\\\", \\\"p99\\\", \\\"p98\\\", \\\"p95\\\", \\\"p90\\\", \\\"p75\\\", \\\"p50\\\", \\\"p05\\\")\",\"\",\"flatten_single param_list\",\"\",\"make_col parameter:string(_c_param_list_value)\",\"\",\"// the rest of this is just trying to get rid of the stuff we don't care about\",\"rename_col list_path:@.\\\"_c_param_list_path\\\"\",\"\",\"colshow \",\"  single:false,\",\"  list_path:false\",\"  // @.\\\"_c_map_array_path\\\":false\",\"\",\"drop_col \",\"  @.\\\"single Count Values\\\",\",\"  @.\\\"_c_param_list_value\\\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"make_col single:1\\ntimestats \\\"single Count Values\\\":count(single), group_by(single)\\n\\nmake_col param_list:make_array(\\\"avg\\\", \\\"p99\\\", \\\"p98\\\", \\\"p95\\\", \\\"p90\\\", \\\"p75\\\", \\\"p50\\\", \\\"p05\\\")\\n\\nflatten_single param_list\\n\\nmake_col parameter:string(_c_param_list_value)\\n\\n// the rest of this is just trying to get rid of the stuff we don't care about\\nrename_col list_path:@.\\\"_c_param_list_path\\\"\\n\\ncolshow \\n  single:false,\\n  list_path:false\\n  // @.\\\"_c_map_array_path\\\":false\\n\\ndrop_col \\n  @.\\\"single Count Values\\\",\\n  @.\\\"_c_param_list_value\\\"\"},{\"id\":\"stage-uywqiqvc\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"backend_target_name\",\"2\":\"_c_valid_from\",\"3\":\"_c_valid_to\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":12,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"Request Throughput\",\"managers\":[{\"id\":\"922fvncz\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-uywqiqvc\",\"type\":\"Timescrubber\"},{\"id\":\"nq9wtmo5\",\"isDisabled\":false,\"parentStageId\":\"stage-uywqiqvc\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"bytes\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"load_balancer_name\",[\"backend_target_name\"]],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-nt8bqdup\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-apecuofk\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-16npc8kq\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists load_balancer_name = @loadBalancer.name\",\"\",\"filter ends_with(metric, \\\"request_bytes_count\\\")\",\"\\tand not metric = \\\"https_backend_request_bytes_count\\\"\",\"\",\"timechart value:sum(value), group_by(load_balancer_name, backend_target_name)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists load_balancer_name = @loadBalancer.name\\n\\nfilter ends_with(metric, \\\"request_bytes_count\\\")\\n\\tand not metric = \\\"https_backend_request_bytes_count\\\"\\n\\ntimechart value:sum(value), group_by(load_balancer_name, backend_target_name)\"},{\"id\":\"stage-3zbaxk0o\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"backend_target_name\",\"2\":\"_c_valid_from\",\"3\":\"_c_valid_to\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":13,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"Response Throughput\",\"managers\":[{\"id\":\"922fvncz\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-3zbaxk0o\",\"type\":\"Timescrubber\"},{\"id\":\"nq9wtmo5\",\"isDisabled\":false,\"parentStageId\":\"stage-3zbaxk0o\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"bytes\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"load_balancer_name\",[\"backend_target_name\"]],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-trrfcjgm\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"load_balancer_name\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-izl8qx3i\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-5x9h9m7x\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists load_balancer_name = @loadBalancer.name\",\"\",\"filter ends_with(metric, \\\"response_bytes_count\\\")\",\"\\tand not metric = \\\"https_backend_response_bytes_count\\\"\",\"\",\"timechart value:sum(value), group_by(load_balancer_name, backend_target_name)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists load_balancer_name = @loadBalancer.name\\n\\nfilter ends_with(metric, \\\"response_bytes_count\\\")\\n\\tand not metric = \\\"https_backend_response_bytes_count\\\"\\n\\ntimechart value:sum(value), group_by(load_balancer_name, backend_target_name)\"},{\"id\":\"stage-q1xd6oka\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"_c_valid_from\",\"2\":\"_c_valid_to\",\"3\":\"backend_target_name\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":14,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"Bytes In\",\"managers\":[{\"id\":\"pvaa64q0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-q1xd6oka\",\"type\":\"Timescrubber\"},{\"id\":\"3ad3xba9\",\"isDisabled\":false,\"parentStageId\":\"stage-q1xd6oka\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"bytes\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"load_balancer_name\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-56gwrw01\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-hpgny8xg\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-7y0byt1q\",\"index\":1,\"isPinned\":false,\"name\":\"// (custom)\",\"opal\":[\"// todo: add a hidden stage to list available group_by options from available metric_label values\",\"// todo: add parameter for those labels\",\"// todo: group this graph by that parameter\",\"\",\"exists load_balancer_name = @loadBalancer.name\",\"filter ends_with(metric, \\\"ingress_bytes_count\\\")\",\"\",\"timechart value:sum(value), group_by(load_balancer_name)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"// todo: add a hidden stage to list available group_by options from available metric_label values\\n// todo: add parameter for those labels\\n// todo: group this graph by that parameter\\n\\nexists load_balancer_name = @loadBalancer.name\\nfilter ends_with(metric, \\\"ingress_bytes_count\\\")\\n\\ntimechart value:sum(value), group_by(load_balancer_name)\"},{\"id\":\"stage-167x70ol\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"_c_valid_from\",\"2\":\"_c_valid_to\",\"3\":\"backend_target_name\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":15,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"Packets In\",\"managers\":[{\"id\":\"pvaa64q0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-167x70ol\",\"type\":\"Timescrubber\"},{\"id\":\"3ad3xba9\",\"isDisabled\":false,\"parentStageId\":\"stage-167x70ol\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"load_balancer_name\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-dw7f2f8x\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-tu4eet77\",\"index\":1,\"isPinned\":false,\"name\":\"// (custom)\",\"opal\":[\"// todo: add a hidden stage to list available group_by options from available metric_label values\",\"// todo: add parameter for those labels\",\"// todo: group this graph by that parameter\",\"\",\"exists load_balancer_name = @loadBalancer.name\",\"filter ends_with(metric, \\\"ingress_packets_count\\\")\",\"\",\"timechart value:sum(value), group_by(load_balancer_name)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"// todo: add a hidden stage to list available group_by options from available metric_label values\\n// todo: add parameter for those labels\\n// todo: group this graph by that parameter\\n\\nexists load_balancer_name = @loadBalancer.name\\nfilter ends_with(metric, \\\"ingress_packets_count\\\")\\n\\ntimechart value:sum(value), group_by(load_balancer_name)\"},{\"id\":\"stage-gcfx82a3\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"_c_valid_from\",\"2\":\"_c_valid_to\",\"3\":\"backend_target_name\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1243,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":16,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"Bytes Out\",\"managers\":[{\"id\":\"pvaa64q0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-gcfx82a3\",\"type\":\"Timescrubber\"},{\"id\":\"3ad3xba9\",\"isDisabled\":false,\"parentStageId\":\"stage-gcfx82a3\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"bytes\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"load_balancer_name\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-846rscsn\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"load_balancer_name\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-8v3b56t5\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-8y2bj3zw\",\"index\":1,\"isPinned\":false,\"name\":\"// (custom)\",\"opal\":[\"// todo: add a hidden stage to list available group_by options from available metric_label values\",\"// todo: add parameter for those labels\",\"// todo: group this graph by that parameter\",\"\",\"exists load_balancer_name = @loadBalancer.name\",\"filter ends_with(metric, \\\"egress_bytes_count\\\")\",\"\",\"timechart value:sum(value), group_by(load_balancer_name)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"// todo: add a hidden stage to list available group_by options from available metric_label values\\n// todo: add parameter for those labels\\n// todo: group this graph by that parameter\\n\\nexists load_balancer_name = @loadBalancer.name\\nfilter ends_with(metric, \\\"egress_bytes_count\\\")\\n\\ntimechart value:sum(value), group_by(load_balancer_name)\"},{\"id\":\"stage-pmkx32rn\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"_c_valid_from\",\"2\":\"_c_valid_to\",\"3\":\"backend_target_name\"},\"columnVisibility\":{},\"columnWidths\":{},\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":17,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"Packets Out\",\"managers\":[{\"id\":\"pvaa64q0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-pmkx32rn\",\"type\":\"Timescrubber\"},{\"id\":\"3ad3xba9\",\"isDisabled\":false,\"parentStageId\":\"stage-pmkx32rn\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"load_balancer_name\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-jo3fazrq\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-v0gv6rz2\",\"index\":1,\"isPinned\":false,\"name\":\"// (custom)\",\"opal\":[\"// todo: add a hidden stage to list available group_by options from available metric_label values\",\"// todo: add parameter for those labels\",\"// todo: group this graph by that parameter\",\"\",\"exists load_balancer_name = @loadBalancer.name\",\"filter ends_with(metric, \\\"egress_packets_count\\\")\",\"\",\"timechart value:sum(value), group_by(load_balancer_name)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"// todo: add a hidden stage to list available group_by options from available metric_label values\\n// todo: add parameter for those labels\\n// todo: group this graph by that parameter\\n\\nexists load_balancer_name = @loadBalancer.name\\nfilter ends_with(metric, \\\"egress_packets_count\\\")\\n\\ntimechart value:sum(value), group_by(load_balancer_name)\"},{\"id\":\"stage-8scwjgub\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"_c_valid_from\",\"2\":\"_c_valid_to\",\"3\":\"backend_target_name\"},\"columnVisibility\":{},\"columnWidths\":{},\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":18,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"RTT (original)\",\"managers\":[{\"id\":\"pvaa64q0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-8scwjgub\",\"type\":\"Timescrubber\"},{\"id\":\"3ad3xba9\",\"isDisabled\":false,\"parentStageId\":\"stage-8scwjgub\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"milliseconds\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"load_balancer_name\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-mzumj3ir\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-7zy4zklh\",\"index\":1,\"isPinned\":false,\"name\":\"// (custom)\",\"opal\":[\"// todo: add a hidden stage to list available group_by options from available metric_label values\",\"// todo: add parameter for those labels\",\"// todo: group this graph by that parameter\",\"\",\"exists load_balancer_name = @loadBalancer.name\",\"filter in(metric, \\\"tcp_ssl_proxy_frontend_tcp_rtt\\\", \\\"l3_external_rtt_latencies\\\", \\\"l3_internal_rtt_latencies\\\")\",\"\",\"timechart value:sum(value), group_by(load_balancer_name)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"// todo: add a hidden stage to list available group_by options from available metric_label values\\n// todo: add parameter for those labels\\n// todo: group this graph by that parameter\\n\\nexists load_balancer_name = @loadBalancer.name\\nfilter in(metric, \\\"tcp_ssl_proxy_frontend_tcp_rtt\\\", \\\"l3_external_rtt_latencies\\\", \\\"l3_internal_rtt_latencies\\\")\\n\\ntimechart value:sum(value), group_by(load_balancer_name)\"},{\"id\":\"stage-vvzswmar\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"_c_valid_from\",\"2\":\"_c_valid_to\",\"3\":\"backend_target_name\"},\"columnVisibility\":{},\"columnWidths\":{},\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":19,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"}],\"label\":\"TCP Connections\",\"managers\":[{\"id\":\"pvaa64q0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-vvzswmar\",\"type\":\"Timescrubber\"},{\"id\":\"3ad3xba9\",\"isDisabled\":false,\"parentStageId\":\"stage-vvzswmar\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"load_balancer_name\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"avg\",\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-kwfg7yzj\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-rodpx8oe\",\"index\":1,\"isPinned\":false,\"name\":\"// (custom)\",\"opal\":[\"// todo: add a hidden stage to list available group_by options from available metric_label values\",\"// todo: add parameter for those labels\",\"// todo: group this graph by that parameter\",\"\",\"exists load_balancer_name = @loadBalancer.name\",\"filter metric = strcat(\\\"tcp_ssl_proxy_\\\", $connectionsType)\",\"\",\"timechart value:sum(value), group_by(load_balancer_name)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"// todo: add a hidden stage to list available group_by options from available metric_label values\\n// todo: add parameter for those labels\\n// todo: group this graph by that parameter\\n\\nexists load_balancer_name = @loadBalancer.name\\nfilter metric = strcat(\\\"tcp_ssl_proxy_\\\", $connectionsType)\\n\\ntimechart value:sum(value), group_by(load_balancer_name)\"},{\"id\":\"stage-tww25crx\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\"},{\"inputName\":\"parameter_latency_-1n9i\",\"inputRole\":\"Data\",\"stageId\":\"stage-1n9iot0m\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"start_time\",\"1\":\"_c_valid_from\",\"2\":\"_c_valid_to\",\"3\":\"url_map_name\"},\"columnVisibility\":{},\"columnWidths\":{\"_c_percentiles_value\":144,\"original_value\":115,\"percentile_aggregation\":139},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":\"percentiles\",\"scrollToRow\":2,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":20,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"},{\"inputName\":\"backendService\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"backendService\"},{\"inputName\":\"parameter_latency_-1n9i\",\"inputRole\":\"Data\",\"isUserInput\":true,\"stageId\":\"stage-1n9iot0m\"}],\"label\":\"Latency\",\"managers\":[{\"id\":\"aqc3ihlz\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-tww25crx\",\"type\":\"Timescrubber\"},{\"id\":\"y13pm47z\",\"isDisabled\":false,\"parentStageId\":\"stage-tww25crx\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"milliseconds\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"groupByField\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"any\",\"fnArgs\":[],\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-qpsx355k\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"groupByField\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-i9gousyh\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-n8ge127y\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists load_balancer_name = @loadBalancer.name\",\"filter starts_with(metric, \\\"https_\\\") and ends_with(metric, $latencyType)\",\"rename_col original_value:value\",\"make_col distribution_metadata:if_null(distribution_metadata, make_object(avg:true))\",\"make_col percentiles:make_object(\",\"\\tp99:if(float64(distribution_metadata.p_low) \\u003c= 0.99 and 0.99 \\u003c float64(distribution_metadata.p_up), \",\"\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.99-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \",\"        float64_null()),\",\"    p95:if(distribution_metadata.p_low \\u003c= 0.95 and 0.95 \\u003c distribution_metadata.p_up, \",\"\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.95-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \",\"        float64_null()),\",\"    p50:if(distribution_metadata.p_low \\u003c= 0.50 and 0.50 \\u003c distribution_metadata.p_up, \",\"\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.50-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \",\"        float64_null()),\",\"    p05:if(distribution_metadata.p_low \\u003c= 0.05 and 0.05 \\u003c distribution_metadata.p_up, \",\"\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.05-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \",\"        float64_null()),\",\"    avg:if(distribution_metadata.avg = true, float64(original_value), float64_null()))\",\"\",\"flatten_single percentiles\",\"make_col lb_count:window(count_distinct_exact(load_balancer_name))\",\"rename_col percentile_aggregation:_c_percentiles_path\",\"filter if(lb_count = 1, not is_null(percentile_aggregation), percentile_aggregation = $percentile)\",\"make_col \",\"\\tvalue:@.\\\"_c_percentiles_value\\\",\",\"    groupByField:case(\",\"    \\tlb_count = 1, percentile_aggregation,\",\"        true, load_balancer_name)\",\"timechart value:avg(float64(value)), group_by(groupByField)\",\"/*\",\"make_col percentiles:make_object(\",\"\\tp99:window(percentile_cont(original_value, 0.99)), \",\"\\tp95:window(percentile(original_value, 0.95)), \",\"\\tp50:window(percentile(original_value, 0.5)), \",\"\\tp05:window(percentile(original_value, 0.05)),\",\"\\tavg:window(avg(original_value)))\",\"flatten_single percentiles\",\"rename_col percentile_aggregation:_c_percentiles_path\",\"make_col lb_count:window(count_distinct_exact(load_balancer_name))\",\"make_col \",\"\\tvalue:case(\",\"      lb_count = 1, @.\\\"_c_percentiles_value\\\",\",\"      true, case(\",\"        $percentile = \\\"avg\\\", window(avg(original_value)),\",\"        $percentile = \\\"p99\\\", window(percentile_cont(original_value, 0.99)),\",\"        $percentile = \\\"p98\\\", window(percentile(original_value, 0.98)),\",\"        $percentile = \\\"p95\\\", window(percentile(original_value, 0.95)),\",\"        $percentile = \\\"p90\\\", window(percentile(original_value, 0.90)),\",\"        $percentile = \\\"p75\\\", window(percentile(original_value, 0.75)),\",\"        $percentile = \\\"p50\\\", window(percentile(original_value, 0.50)),\",\"        $percentile = \\\"p05\\\", window(percentile(original_value, 0.05)),\",\"        true, window(avg(original_value)))),\",\"    groupByField:case(\",\"    \\tlb_count = 1, percentile_aggregation,\",\"        true, load_balancer_name)\",\"//timechart value:sum(float64(value)), group_by(groupByField)\",\"*/\",\"\",\"/*\",\"make_col value:case(\",\"\\t$percentile = \\\"avg\\\", window(avg(value)),\",\"    $percentile = \\\"p99\\\", window(percentile(value, 0.99)),\",\"    $percentile = \\\"p98\\\", window(percentile(value, 0.98)),\",\"    $percentile = \\\"p95\\\", window(percentile(value, 0.95)),\",\"    $percentile = \\\"p90\\\", window(percentile(value, 0.90)),\",\"    $percentile = \\\"p75\\\", window(percentile(value, 0.75)),\",\"    $percentile = \\\"p50\\\", window(percentile(value, 0.50)),\",\"    $percentile = \\\"p05\\\", window(percentile(value, 0.05)),\",\"    true, window(avg(value)))\",\"\",\"timechart value:sum(value), group_by(load_balancer_name)\",\"*/\",\"//filter (load_balancer_name = \\\"estib-cloudrun-url-map\\\" and forwarding_rule_name = \\\"estib-cloudrun\\\" and backend_name = \\\"serverless-neg\\\")\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists load_balancer_name = @loadBalancer.name\\nfilter starts_with(metric, \\\"https_\\\") and ends_with(metric, $latencyType)\\nrename_col original_value:value\\nmake_col distribution_metadata:if_null(distribution_metadata, make_object(avg:true))\\nmake_col percentiles:make_object(\\n\\tp99:if(float64(distribution_metadata.p_low) \\u003c= 0.99 and 0.99 \\u003c float64(distribution_metadata.p_up), \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.99-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p95:if(distribution_metadata.p_low \\u003c= 0.95 and 0.95 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.95-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p50:if(distribution_metadata.p_low \\u003c= 0.50 and 0.50 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.50-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p05:if(distribution_metadata.p_low \\u003c= 0.05 and 0.05 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.05-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    avg:if(distribution_metadata.avg = true, float64(original_value), float64_null()))\\n\\nflatten_single percentiles\\nmake_col lb_count:window(count_distinct_exact(load_balancer_name))\\nrename_col percentile_aggregation:_c_percentiles_path\\nfilter if(lb_count = 1, not is_null(percentile_aggregation), percentile_aggregation = $percentile)\\nmake_col \\n\\tvalue:@.\\\"_c_percentiles_value\\\",\\n    groupByField:case(\\n    \\tlb_count = 1, percentile_aggregation,\\n        true, load_balancer_name)\\ntimechart value:avg(float64(value)), group_by(groupByField)\\n/*\\nmake_col percentiles:make_object(\\n\\tp99:window(percentile_cont(original_value, 0.99)), \\n\\tp95:window(percentile(original_value, 0.95)), \\n\\tp50:window(percentile(original_value, 0.5)), \\n\\tp05:window(percentile(original_value, 0.05)),\\n\\tavg:window(avg(original_value)))\\nflatten_single percentiles\\nrename_col percentile_aggregation:_c_percentiles_path\\nmake_col lb_count:window(count_distinct_exact(load_balancer_name))\\nmake_col \\n\\tvalue:case(\\n      lb_count = 1, @.\\\"_c_percentiles_value\\\",\\n      true, case(\\n        $percentile = \\\"avg\\\", window(avg(original_value)),\\n        $percentile = \\\"p99\\\", window(percentile_cont(original_value, 0.99)),\\n        $percentile = \\\"p98\\\", window(percentile(original_value, 0.98)),\\n        $percentile = \\\"p95\\\", window(percentile(original_value, 0.95)),\\n        $percentile = \\\"p90\\\", window(percentile(original_value, 0.90)),\\n        $percentile = \\\"p75\\\", window(percentile(original_value, 0.75)),\\n        $percentile = \\\"p50\\\", window(percentile(original_value, 0.50)),\\n        $percentile = \\\"p05\\\", window(percentile(original_value, 0.05)),\\n        true, window(avg(original_value)))),\\n    groupByField:case(\\n    \\tlb_count = 1, percentile_aggregation,\\n        true, load_balancer_name)\\n//timechart value:sum(float64(value)), group_by(groupByField)\\n*/\\n\\n/*\\nmake_col value:case(\\n\\t$percentile = \\\"avg\\\", window(avg(value)),\\n    $percentile = \\\"p99\\\", window(percentile(value, 0.99)),\\n    $percentile = \\\"p98\\\", window(percentile(value, 0.98)),\\n    $percentile = \\\"p95\\\", window(percentile(value, 0.95)),\\n    $percentile = \\\"p90\\\", window(percentile(value, 0.90)),\\n    $percentile = \\\"p75\\\", window(percentile(value, 0.75)),\\n    $percentile = \\\"p50\\\", window(percentile(value, 0.50)),\\n    $percentile = \\\"p05\\\", window(percentile(value, 0.05)),\\n    true, window(avg(value)))\\n\\ntimechart value:sum(value), group_by(load_balancer_name)\\n*/\\n//filter (load_balancer_name = \\\"estib-cloudrun-url-map\\\" and forwarding_rule_name = \\\"estib-cloudrun\\\" and backend_name = \\\"serverless-neg\\\")\"},{\"id\":\"stage-vkd1umm8\",\"input\":[{\"inputName\":\"Backup_Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{},\"columnVisibility\":{},\"columnWidths\":{\"Backend Service\":348},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":21,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Backup_Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"Backends Health from on Response Codes\",\"managers\":[{\"id\":\"tr71iih8\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-vkd1umm8\",\"type\":\"Timescrubber\"},{\"id\":\"5pzuidx7\",\"isDisabled\":false,\"parentStageId\":\"stage-vkd1umm8\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"health\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count\",\"resolution\":\"SINGLE\"},\"transformType\":\"none\",\"type\":\"keyvalue\",\"valueField\":[\"backend_target_name\"]},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"distribution_metadata\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-54ff2bw1\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-bk9vuesx\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Backup_Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"backend_name\":\"count\",\"distribution_metadata\":\"count\",\"metric\":\"count\",\"metric_labels\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"resource_labels\":\"count\",\"value\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-ui098iq8\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-7eumy0to\",\"index\":1,\"isPinned\":false,\"name\":\"exists (custom)\",\"opal\":[\"exists load_balancer_name = @loadBalancer.name\",\"\",\"filter ends_with(metric, \\\"request_count\\\")\",\"filter not is_null(backend_target_name) and backend_target_name != \\\"\\\"\",\"filter in(string(metric_labels.response_code_class), \\\"200\\\", \\\"300\\\", \\\"500\\\")\",\"\",\"make_col \",\"\\tmetric:\\\"request_count\\\"\",\"\",\"interface \\\"metric\\\", metric:metric, value:value\",\"\",\"align 10m, requests:sum(m(\\\"request_count\\\"))\",\"aggregate requests: sum(requests), group_by(load_balancer_name, backend_target_name, metric_labels.response_code_class)\",\"statsby last(requests), group_by(load_balancer_name, backend_target_name, response_code_class)\",\"\",\"make_col \",\"\\tresp2xx:if(response_code_class = \\\"200\\\", last_requests, int64_null()),\",\"    resp3xx:if(response_code_class = \\\"300\\\", last_requests, int64_null()),\",\"    resp4xx:if(response_code_class = \\\"400\\\", last_requests, int64_null()),\",\"    resp5xx:if(response_code_class = \\\"500\\\", last_requests, int64_null())\",\"\",\"dedup load_balancer_name, backend_target_name\",\"\",\"make_col \",\"\\thealth:case(\",\"    \\tresp2xx \\u003e 0, \\\"HEALTHY\\\",\",\"        resp3xx \\u003e 0, \\\"HEALTHY\\\",\",\"        resp5xx \\u003e 0, \\\"UNHEALTHY\\\",\",\"        true, \\\"UNKNOWN\\\")\",\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"exists load_balancer_name = @loadBalancer.name\\n\\nfilter ends_with(metric, \\\"request_count\\\")\\nfilter not is_null(backend_target_name) and backend_target_name != \\\"\\\"\\nfilter in(string(metric_labels.response_code_class), \\\"200\\\", \\\"300\\\", \\\"500\\\")\\n\\nmake_col \\n\\tmetric:\\\"request_count\\\"\\n\\ninterface \\\"metric\\\", metric:metric, value:value\\n\\nalign 10m, requests:sum(m(\\\"request_count\\\"))\\naggregate requests: sum(requests), group_by(load_balancer_name, backend_target_name, metric_labels.response_code_class)\\nstatsby last(requests), group_by(load_balancer_name, backend_target_name, response_code_class)\\n\\nmake_col \\n\\tresp2xx:if(response_code_class = \\\"200\\\", last_requests, int64_null()),\\n    resp3xx:if(response_code_class = \\\"300\\\", last_requests, int64_null()),\\n    resp4xx:if(response_code_class = \\\"400\\\", last_requests, int64_null()),\\n    resp5xx:if(response_code_class = \\\"500\\\", last_requests, int64_null())\\n\\ndedup load_balancer_name, backend_target_name\\n\\nmake_col \\n\\thealth:case(\\n    \\tresp2xx \\u003e 0, \\\"HEALTHY\\\",\\n        resp3xx \\u003e 0, \\\"HEALTHY\\\",\\n        resp5xx \\u003e 0, \\\"UNHEALTHY\\\",\\n        true, \\\"UNKNOWN\\\")\\n\"},{\"id\":\"stage-9svt3xfw\",\"input\":[{\"inputName\":\"Backup_Google/GCP/Load Balancing Backend Services\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_backend_services}\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"_c_backends_path\",\"2\":\"Valid From\",\"3\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":true,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":22,\"inputList\":[{\"datasetId\":\"${dataset_id_backend_services}\",\"inputName\":\"Backup_Google/GCP/Load Balancing Backend Services\",\"inputRole\":\"Data\",\"isUserInput\":false}],\"label\":\"backends\",\"managers\":[{\"id\":\"94xzc9q5\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-9svt3xfw\",\"type\":\"Timescrubber\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"backends\":\"count\",\"connectionDraining\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"enableCDN\":\"count\",\"fingerprint\":\"count\",\"healthChecks\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"localityLbPolicy\":\"count\",\"logConfig\":\"count\",\"name\":\"count\",\"port\":\"count\",\"portName\":\"count\",\"project_id\":\"count\",\"protocol\":\"count\",\"selfLink\":\"count\",\"sessionAffinity\":\"count\",\"timeoutSec\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-rf60px5c\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-qrhlumgm\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Backup_Google/GCP/Load Balancing Backend Services (${dataset_id_backend_services})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"_c_backends_path\":\"count\",\"_c_backends_value\":\"count\",\"backends\":\"count\",\"connectionDraining\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"enableCDN\":\"count\",\"fingerprint\":\"count\",\"group\":\"count\",\"healthChecks\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"localityLbPolicy\":\"count\",\"logConfig\":\"count\",\"name\":\"count\",\"port\":\"count\",\"portName\":\"count\",\"project_id\":\"count\",\"protocol\":\"count\",\"selfLink\":\"count\",\"sessionAffinity\":\"count\",\"timeoutSec\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-pqaxz63h\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-puc691vn\",\"index\":1,\"isPinned\":false,\"name\":\"flatten_single (custom)\",\"opal\":[\"flatten_single backends\",\"//make_col group:string(@.\\\"_c_backends_value\\\".group)\",\"make_col group:split_part(string(@.\\\"_c_backends_value\\\".group),\\\"/\\\", -1)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"flatten_single backends\\n//make_col group:string(@.\\\"_c_backends_value\\\".group)\\nmake_col group:split_part(string(@.\\\"_c_backends_value\\\".group),\\\"/\\\", -1)\"},{\"id\":\"stage-jy2wr83a\",\"input\":[{\"inputName\":\"Backup_Google/GCP/Load Balancing Health Check Logs\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_health_check_logs}\"},{\"inputName\":\"backends_-9svt\",\"inputRole\":\"Data\",\"stageId\":\"stage-9svt3xfw\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":23,\"inputList\":[{\"datasetId\":\"${dataset_id_health_check_logs}\",\"inputName\":\"Backup_Google/GCP/Load Balancing Health Check Logs\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"backends_-9svt\",\"inputRole\":\"Data\",\"isUserInput\":true,\"stageId\":\"stage-9svt3xfw\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"Backends Health from Healthcheck Logs\",\"managers\":[{\"id\":\"bvjj2nwp\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-jy2wr83a\",\"type\":\"Timescrubber\"},{\"id\":\"1tk7apcx\",\"isDisabled\":false,\"parentStageId\":\"stage-jy2wr83a\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"health\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count\",\"resolution\":\"SINGLE\"},\"transformType\":\"none\",\"type\":\"keyvalue\",\"valueField\":\"backendService\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"healthState\":\"count\",\"insertId\":\"count\",\"instance_group_name\":\"count\",\"jsonPayload\":\"count\",\"labels\":\"count\",\"messageId\":\"count\",\"resourceLabels\":\"count\",\"resourceType\":\"count\",\"severity\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-aev2wbxv\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-0zpm36cj\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Backup_Google/GCP/Load Balancing Health Check Logs (${dataset_id_health_check_logs})\",\"type\":\"InputStep\"},{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-my2g2awz\",\"index\":1,\"isPinned\":false,\"name\":\"lookup (custom)\",\"opal\":[\"lookup instance_group_name = @\\\"backends_-9svt\\\".group, backendService:@\\\"backends_-9svt\\\".name\",\"exists backendService = @loadBalancer.defaultServiceName\",\"\",\"statsby last(instance_group_name), group_by(instance_group_name, backendService, healthState)\",\"\",\"make_col \",\"\\thas_unhealhty:if(healthState != \\\"HEALTHY\\\", healthState, string_null())\",\"    \",\"dedup backendService\",\"\",\"make_col \",\"\\thealth:if_null(has_unhealhty, healthState)\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"lookup instance_group_name = @\\\"backends_-9svt\\\".group, backendService:@\\\"backends_-9svt\\\".name\\nexists backendService = @loadBalancer.defaultServiceName\\n\\nstatsby last(instance_group_name), group_by(instance_group_name, backendService, healthState)\\n\\nmake_col \\n\\thas_unhealhty:if(healthState != \\\"HEALTHY\\\", healthState, string_null())\\n    \\ndedup backendService\\n\\nmake_col \\n\\thealth:if_null(has_unhealhty, healthState)\"},{\"id\":\"stage-1jze8q9d\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancing_metrics}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"0\":\"url_map_name\",\"1\":\"_c_valid_from\",\"2\":\"_c_valid_to\",\"3\":\"backend_target_name\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":24,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancing_metrics}\",\"inputName\":\"Google/GCP/Load Balancing Metrics\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"RTT\",\"managers\":[{\"id\":\"pvaa64q0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-1jze8q9d\",\"type\":\"Timescrubber\"},{\"id\":\"3ad3xba9\",\"isDisabled\":false,\"parentStageId\":\"stage-1jze8q9d\",\"type\":\"Vis\",\"vis\":{\"config\":{\"color\":\"Default\",\"hideGridLines\":false,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"xy\",\"xConfig\":{\"visible\":true},\"yConfig\":{\"unit\":\"milliseconds\",\"visible\":true}},\"source\":{\"table\":{\"groupFields\":[\"groupByField\"],\"statsBy\":{\"fn\":\"avg\"},\"timechart\":{\"fn\":\"any\",\"fnArgs\":[],\"resolution\":\"AUTO\"},\"transformType\":\"timechart\",\"type\":\"xy\",\"y\":\"value\"},\"type\":\"table\"},\"type\":\"timeseries\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-k2txb7ed\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Metrics (${dataset_id_load_balancing_metrics})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-9kzdwwrl\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-emh0u40y\",\"index\":1,\"isPinned\":false,\"name\":\"// (custom)\",\"opal\":[\"// todo: add a hidden stage to list available group_by options from available metric_label values\",\"// todo: add parameter for those labels\",\"// todo: group this graph by that parameter\",\"\",\"exists load_balancer_name = @loadBalancer.name\",\"filter in(metric, \\\"tcp_ssl_proxy_frontend_tcp_rtt\\\", \\\"l3_external_rtt_latencies\\\", \\\"l3_internal_rtt_latencies\\\")\",\"\",\"//timechart value:sum(value), group_by(load_balancer_name)\",\"\",\"rename_col original_value:value\",\"make_col distribution_metadata:if_null(distribution_metadata, make_object(avg:true))\",\"make_col percentiles:make_object(\",\"\\tp99:if(float64(distribution_metadata.p_low) \\u003c= 0.99 and 0.99 \\u003c float64(distribution_metadata.p_up), \",\"\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.99-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \",\"        float64_null()),\",\"    p95:if(distribution_metadata.p_low \\u003c= 0.95 and 0.95 \\u003c distribution_metadata.p_up, \",\"\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.95-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \",\"        float64_null()),\",\"    p50:if(distribution_metadata.p_low \\u003c= 0.50 and 0.50 \\u003c distribution_metadata.p_up, \",\"\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.50-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \",\"        float64_null()),\",\"    p05:if(distribution_metadata.p_low \\u003c= 0.05 and 0.05 \\u003c distribution_metadata.p_up, \",\"\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.05-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \",\"        float64_null()),\",\"    avg:if(distribution_metadata.avg = true, float64(original_value), float64_null()))\",\"\",\"flatten_single percentiles\",\"make_col lb_count:window(count_distinct_exact(load_balancer_name))\",\"rename_col percentile_aggregation:_c_percentiles_path\",\"filter if(lb_count = 1, not is_null(percentile_aggregation), percentile_aggregation = $percentileL4)\",\"make_col \",\"\\tvalue:@.\\\"_c_percentiles_value\\\",\",\"    groupByField:case(\",\"    \\tlb_count = 1, percentile_aggregation,\",\"        true, load_balancer_name)\",\"timechart value:avg(float64(value)), group_by(groupByField)\",\"/*\",\"make_col percentiles:make_object(\",\"\\tp99:window(percentile_cont(original_value, 0.99)), \",\"\\tp95:window(percentile(original_value, 0.95)), \",\"\\tp50:window(percentile(original_value, 0.5)), \",\"\\tp05:window(percentile(original_value, 0.05)),\",\"\\tavg:window(avg(original_value)))\",\"flatten_single percentiles\",\"rename_col percentile_aggregation:_c_percentiles_path\",\"make_col lb_count:window(count_distinct_exact(load_balancer_name))\",\"make_col \",\"\\tvalue:case(\",\"      lb_count = 1, @.\\\"_c_percentiles_value\\\",\",\"      true, case(\",\"        $percentile = \\\"avg\\\", window(avg(original_value)),\",\"        $percentile = \\\"p99\\\", window(percentile_cont(original_value, 0.99)),\",\"        $percentile = \\\"p98\\\", window(percentile(original_value, 0.98)),\",\"        $percentile = \\\"p95\\\", window(percentile(original_value, 0.95)),\",\"        $percentile = \\\"p90\\\", window(percentile(original_value, 0.90)),\",\"        $percentile = \\\"p75\\\", window(percentile(original_value, 0.75)),\",\"        $percentile = \\\"p50\\\", window(percentile(original_value, 0.50)),\",\"        $percentile = \\\"p05\\\", window(percentile(original_value, 0.05)),\",\"        true, window(avg(original_value)))),\",\"    groupByField:case(\",\"    \\tlb_count = 1, percentile_aggregation,\",\"        true, load_balancer_name)\",\"//timechart value:sum(float64(value)), group_by(groupByField)\",\"*/\",\"\",\"/*\",\"make_col value:case(\",\"\\t$percentile = \\\"avg\\\", window(avg(value)),\",\"    $percentile = \\\"p99\\\", window(percentile(value, 0.99)),\",\"    $percentile = \\\"p98\\\", window(percentile(value, 0.98)),\",\"    $percentile = \\\"p95\\\", window(percentile(value, 0.95)),\",\"    $percentile = \\\"p90\\\", window(percentile(value, 0.90)),\",\"    $percentile = \\\"p75\\\", window(percentile(value, 0.75)),\",\"    $percentile = \\\"p50\\\", window(percentile(value, 0.50)),\",\"    $percentile = \\\"p05\\\", window(percentile(value, 0.05)),\",\"    true, window(avg(value)))\",\"\",\"timechart value:sum(value), group_by(load_balancer_name)\",\"*/\",\"//filter (load_balancer_name = \\\"estib-cloudrun-url-map\\\" and forwarding_rule_name = \\\"estib-cloudrun\\\" and backend_name = \\\"serverless-neg\\\")\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":\"// todo: add a hidden stage to list available group_by options from available metric_label values\\n// todo: add parameter for those labels\\n// todo: group this graph by that parameter\\n\\nexists load_balancer_name = @loadBalancer.name\\nfilter in(metric, \\\"tcp_ssl_proxy_frontend_tcp_rtt\\\", \\\"l3_external_rtt_latencies\\\", \\\"l3_internal_rtt_latencies\\\")\\n\\n//timechart value:sum(value), group_by(load_balancer_name)\\n\\nrename_col original_value:value\\nmake_col distribution_metadata:if_null(distribution_metadata, make_object(avg:true))\\nmake_col percentiles:make_object(\\n\\tp99:if(float64(distribution_metadata.p_low) \\u003c= 0.99 and 0.99 \\u003c float64(distribution_metadata.p_up), \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.99-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p95:if(distribution_metadata.p_low \\u003c= 0.95 and 0.95 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.95-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p50:if(distribution_metadata.p_low \\u003c= 0.50 and 0.50 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.50-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p05:if(distribution_metadata.p_low \\u003c= 0.05 and 0.05 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.05-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    avg:if(distribution_metadata.avg = true, float64(original_value), float64_null()))\\n\\nflatten_single percentiles\\nmake_col lb_count:window(count_distinct_exact(load_balancer_name))\\nrename_col percentile_aggregation:_c_percentiles_path\\nfilter if(lb_count = 1, not is_null(percentile_aggregation), percentile_aggregation = $percentileL4)\\nmake_col \\n\\tvalue:@.\\\"_c_percentiles_value\\\",\\n    groupByField:case(\\n    \\tlb_count = 1, percentile_aggregation,\\n        true, load_balancer_name)\\ntimechart value:avg(float64(value)), group_by(groupByField)\\n\",\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"// todo: add a hidden stage to list available group_by options from available metric_label values\\n// todo: add parameter for those labels\\n// todo: group this graph by that parameter\\n\\nexists load_balancer_name = @loadBalancer.name\\nfilter in(metric, \\\"tcp_ssl_proxy_frontend_tcp_rtt\\\", \\\"l3_external_rtt_latencies\\\", \\\"l3_internal_rtt_latencies\\\")\\n\\n//timechart value:sum(value), group_by(load_balancer_name)\\n\\nrename_col original_value:value\\nmake_col distribution_metadata:if_null(distribution_metadata, make_object(avg:true))\\nmake_col percentiles:make_object(\\n\\tp99:if(float64(distribution_metadata.p_low) \\u003c= 0.99 and 0.99 \\u003c float64(distribution_metadata.p_up), \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.99-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p95:if(distribution_metadata.p_low \\u003c= 0.95 and 0.95 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.95-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p50:if(distribution_metadata.p_low \\u003c= 0.50 and 0.50 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.50-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    p05:if(distribution_metadata.p_low \\u003c= 0.05 and 0.05 \\u003c distribution_metadata.p_up, \\n\\t\\tdistribution_metadata.bucket_low + ((float64(distribution_metadata.bucket_up) - distribution_metadata.bucket_low)*(0.05-distribution_metadata.p_low)/(float64(distribution_metadata.p_up)-distribution_metadata.p_low)), \\n        float64_null()),\\n    avg:if(distribution_metadata.avg = true, float64(original_value), float64_null()))\\n\\nflatten_single percentiles\\nmake_col lb_count:window(count_distinct_exact(load_balancer_name))\\nrename_col percentile_aggregation:_c_percentiles_path\\nfilter if(lb_count = 1, not is_null(percentile_aggregation), percentile_aggregation = $percentileL4)\\nmake_col \\n\\tvalue:@.\\\"_c_percentiles_value\\\",\\n    groupByField:case(\\n    \\tlb_count = 1, percentile_aggregation,\\n        true, load_balancer_name)\\ntimechart value:avg(float64(value)), group_by(groupByField)\\n/*\\nmake_col percentiles:make_object(\\n\\tp99:window(percentile_cont(original_value, 0.99)), \\n\\tp95:window(percentile(original_value, 0.95)), \\n\\tp50:window(percentile(original_value, 0.5)), \\n\\tp05:window(percentile(original_value, 0.05)),\\n\\tavg:window(avg(original_value)))\\nflatten_single percentiles\\nrename_col percentile_aggregation:_c_percentiles_path\\nmake_col lb_count:window(count_distinct_exact(load_balancer_name))\\nmake_col \\n\\tvalue:case(\\n      lb_count = 1, @.\\\"_c_percentiles_value\\\",\\n      true, case(\\n        $percentile = \\\"avg\\\", window(avg(original_value)),\\n        $percentile = \\\"p99\\\", window(percentile_cont(original_value, 0.99)),\\n        $percentile = \\\"p98\\\", window(percentile(original_value, 0.98)),\\n        $percentile = \\\"p95\\\", window(percentile(original_value, 0.95)),\\n        $percentile = \\\"p90\\\", window(percentile(original_value, 0.90)),\\n        $percentile = \\\"p75\\\", window(percentile(original_value, 0.75)),\\n        $percentile = \\\"p50\\\", window(percentile(original_value, 0.50)),\\n        $percentile = \\\"p05\\\", window(percentile(original_value, 0.05)),\\n        true, window(avg(original_value)))),\\n    groupByField:case(\\n    \\tlb_count = 1, percentile_aggregation,\\n        true, load_balancer_name)\\n//timechart value:sum(float64(value)), group_by(groupByField)\\n*/\\n\\n/*\\nmake_col value:case(\\n\\t$percentile = \\\"avg\\\", window(avg(value)),\\n    $percentile = \\\"p99\\\", window(percentile(value, 0.99)),\\n    $percentile = \\\"p98\\\", window(percentile(value, 0.98)),\\n    $percentile = \\\"p95\\\", window(percentile(value, 0.95)),\\n    $percentile = \\\"p90\\\", window(percentile(value, 0.90)),\\n    $percentile = \\\"p75\\\", window(percentile(value, 0.75)),\\n    $percentile = \\\"p50\\\", window(percentile(value, 0.50)),\\n    $percentile = \\\"p05\\\", window(percentile(value, 0.05)),\\n    true, window(avg(value)))\\n\\ntimechart value:sum(value), group_by(load_balancer_name)\\n*/\\n//filter (load_balancer_name = \\\"estib-cloudrun-url-map\\\" and forwarding_rule_name = \\\"estib-cloudrun\\\" and backend_name = \\\"serverless-neg\\\")\"},{\"id\":\"stage-tx1rkfnd\",\"input\":[{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"containerWidth\":1253,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":25,\"inputList\":[{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":false,\"parameterId\":\"loadBalancer\"}],\"label\":\"Project\",\"managers\":[{\"id\":\"o7h4gmvb\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-tx1rkfnd\",\"type\":\"Timescrubber\"},{\"id\":\"pojap6rs\",\"isDisabled\":false,\"parentStageId\":\"stage-tx1rkfnd\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"project_id\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"IPAddress\":\"count\",\"IPProtocol\":\"count\",\"IPVersion\":\"count\",\"creationTimestamp\":\"count\",\"description\":\"count\",\"frontEnd\":\"count\",\"hostRules\":\"count\",\"id\":\"count\",\"loadBalancingScheme\":\"count\",\"name\":\"count\",\"networkTier\":\"count\",\"pathMatchers\":\"count\",\"portRange\":\"count\",\"project_id\":\"count\",\"region\":\"count\",\"selfLink\":\"count\",\"targetProxyName\":\"count\",\"urlMapName\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-zndq9r0c\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-2sr7ur1m\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"loadBalancer (undefined)\",\"type\":\"InputStep\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"\"},{\"id\":\"stage-9ft6c9cp\",\"input\":[{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":26,\"inputList\":[{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":false,\"parameterId\":\"loadBalancer\"}],\"label\":\"Region\",\"managers\":[{\"id\":\"o7h4gmvb\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-9ft6c9cp\",\"type\":\"Timescrubber\"},{\"id\":\"pojap6rs\",\"isDisabled\":false,\"parentStageId\":\"stage-9ft6c9cp\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"region\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-arlwhvog\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"loadBalancer (undefined)\",\"type\":\"InputStep\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"\"},{\"id\":\"stage-vqzhut38\",\"input\":[{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":27,\"inputList\":[{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":false,\"parameterId\":\"loadBalancer\"}],\"label\":\"Load Balancing Scheme\",\"managers\":[{\"id\":\"o7h4gmvb\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-vqzhut38\",\"type\":\"Timescrubber\"},{\"id\":\"pojap6rs\",\"isDisabled\":false,\"parentStageId\":\"stage-vqzhut38\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"loadBalancingScheme\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-3bmf3v0v\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"loadBalancer (undefined)\",\"type\":\"InputStep\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"\"},{\"id\":\"stage-4qwukcmr\",\"input\":[{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":28,\"inputList\":[{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":false,\"parameterId\":\"loadBalancer\"}],\"label\":\"Network Tier\",\"managers\":[{\"id\":\"o7h4gmvb\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-4qwukcmr\",\"type\":\"Timescrubber\"},{\"id\":\"pojap6rs\",\"isDisabled\":false,\"parentStageId\":\"stage-4qwukcmr\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"networkTier\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-bq4v7f4z\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"loadBalancer (undefined)\",\"type\":\"InputStep\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"\"},{\"id\":\"stage-zwt1kd49\",\"input\":[{\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_load_balancers}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{\"1\":\"Valid From\",\"2\":\"Valid To\"},\"columnVisibility\":{},\"columnWidths\":{},\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":null,\"scrollToRow\":0,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":29,\"inputList\":[{\"datasetId\":\"${dataset_id_load_balancers}\",\"inputName\":\"Google/GCP/Load Balancing Load Balancers\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"Copy of Network Tier\",\"managers\":[{\"id\":\"nsmd3pm0\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-zwt1kd49\",\"type\":\"Timescrubber\"},{\"id\":\"dozqrr12\",\"isDisabled\":false,\"parentStageId\":\"stage-zwt1kd49\",\"type\":\"Vis\",\"vis\":{\"config\":{\"innerRadius\":0.6,\"legend\":{\"placement\":\"right\",\"type\":\"list\",\"visible\":true},\"type\":\"arc\"},\"source\":{\"table\":{\"keyField\":[\"networkTier\"],\"statsBy\":{\"fn\":\"count\"},\"timechart\":{\"fn\":\"count_distinct\",\"fnArgs\":[],\"resolution\":\"SINGLE\"},\"transformType\":\"timechart\",\"type\":\"keyvalue\",\"valueField\":\"name\"},\"type\":\"table\"},\"type\":\"circular\"}}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindSchema\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-gxo6l02s\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Google/GCP/Load Balancing Load Balancers (${dataset_id_load_balancers})\",\"type\":\"InputStep\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":\"exists name = @loadBalancer.name\",\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"vis\"}},\"pipeline\":\"\"},{\"id\":\"stage-1y1tuw35\",\"input\":[{\"inputName\":\"Backup_Google/GCP/Logs\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_gcp_logs}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{},\"columnVisibility\":{},\"columnWidths\":{\"logLoadBalancerName\":219},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":\"logLoadBalancerName\",\"scrollToRow\":8,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":30,\"inputList\":[{\"datasetId\":\"${dataset_id_gcp_logs}\",\"inputName\":\"Backup_Google/GCP/Logs\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"audit logs - backendservices\",\"managers\":[{\"id\":\"imwdgmck\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-1y1tuw35\",\"type\":\"Timescrubber\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"httpRequest\":\"count\",\"insertId\":\"count\",\"jsonPayload\":\"count\",\"labels\":\"count\",\"logName\":\"count\",\"messageId\":\"count\",\"protoPayload\":\"count\",\"resourceLabels\":\"count\",\"resourceType\":\"count\",\"severity\":\"count\",\"textPayload\":\"count\",\"trace\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-097gqlx1\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-5ivp3ran\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Backup_Google/GCP/Logs (${dataset_id_gcp_logs})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"httpRequest\":\"count\",\"insertId\":\"count\",\"jsonPayload\":\"count\",\"labels\":\"count\",\"logName\":\"count\",\"messageId\":\"count\",\"protoPayload\":\"count\",\"resourceLabels\":\"count\",\"resourceType\":\"count\",\"severity\":\"count\",\"textPayload\":\"count\",\"trace\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-l7pbbbmg\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-26icqxpy\",\"index\":1,\"isPinned\":false,\"name\":\"filter (custom)\",\"opal\":[\"filter ends_with(logName, \\\"cloudaudit.googleapis.com%2Factivity\\\")\",\"make_col resourceName:string(coalesce(jsonPayload.resourceName, protoPayload.resourceName))\",\"make_col resourceName:split_part(resourceName, \\\"/\\\", -1)\",\"exists resourceName = @loadBalancer.defaultServiceName\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"filter ends_with(logName, \\\"cloudaudit.googleapis.com%2Factivity\\\")\\nmake_col resourceName:string(coalesce(jsonPayload.resourceName, protoPayload.resourceName))\\nmake_col resourceName:split_part(resourceName, \\\"/\\\", -1)\\nexists resourceName = @loadBalancer.defaultServiceName\"},{\"id\":\"stage-nwsjgiz1\",\"input\":[{\"inputName\":\"Backup_Google/GCP/Logs\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_gcp_logs}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{},\"columnVisibility\":{},\"columnWidths\":{\"logLoadBalancerName\":219},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":\"logLoadBalancerName\",\"scrollToRow\":8,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":31,\"inputList\":[{\"datasetId\":\"${dataset_id_gcp_logs}\",\"inputName\":\"Backup_Google/GCP/Logs\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"audit logs - urlmaps\",\"managers\":[{\"id\":\"imwdgmck\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-nwsjgiz1\",\"type\":\"Timescrubber\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-yyfugfk7\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Backup_Google/GCP/Logs (${dataset_id_gcp_logs})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-hevfyw3v\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-ewyo2uvs\",\"index\":1,\"isPinned\":false,\"name\":\"filter (custom)\",\"opal\":[\"filter ends_with(logName, \\\"cloudaudit.googleapis.com%2Factivity\\\")\",\"make_col resourceName:string(coalesce(jsonPayload.resourceName, protoPayload.resourceName))\",\"make_col resourceName:split_part(resourceName, \\\"/\\\", -1)\",\"exists resourceName = @loadBalancer.urlMapName\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"filter ends_with(logName, \\\"cloudaudit.googleapis.com%2Factivity\\\")\\nmake_col resourceName:string(coalesce(jsonPayload.resourceName, protoPayload.resourceName))\\nmake_col resourceName:split_part(resourceName, \\\"/\\\", -1)\\nexists resourceName = @loadBalancer.urlMapName\"},{\"id\":\"stage-1su5wy31\",\"input\":[{\"inputName\":\"Backup_Google/GCP/Logs\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_gcp_logs}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{},\"columnVisibility\":{},\"columnWidths\":{\"logLoadBalancerName\":219},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":\"logLoadBalancerName\",\"scrollToRow\":8,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":32,\"inputList\":[{\"datasetId\":\"${dataset_id_gcp_logs}\",\"inputName\":\"Backup_Google/GCP/Logs\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"audit logs - Target Proxies\",\"managers\":[{\"id\":\"imwdgmck\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-1su5wy31\",\"type\":\"Timescrubber\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-u3rhapp9\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Backup_Google/GCP/Logs (${dataset_id_gcp_logs})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-moj85nw5\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-542cx594\",\"index\":1,\"isPinned\":false,\"name\":\"filter (custom)\",\"opal\":[\"filter ends_with(logName, \\\"cloudaudit.googleapis.com%2Factivity\\\")\",\"make_col resourceName:string(coalesce(jsonPayload.resourceName, protoPayload.resourceName))\",\"make_col resourceName:split_part(resourceName, \\\"/\\\", -1)\",\"exists resourceName = @loadBalancer.targetProxyName\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"filter ends_with(logName, \\\"cloudaudit.googleapis.com%2Factivity\\\")\\nmake_col resourceName:string(coalesce(jsonPayload.resourceName, protoPayload.resourceName))\\nmake_col resourceName:split_part(resourceName, \\\"/\\\", -1)\\nexists resourceName = @loadBalancer.targetProxyName\"},{\"id\":\"stage-mitqf2ay\",\"input\":[{\"inputName\":\"Backup_Google/GCP/Logs\",\"inputRole\":\"Data\",\"datasetId\":\"${dataset_id_gcp_logs}\"},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{},\"columnVisibility\":{},\"columnWidths\":{\"logLoadBalancerName\":219},\"containerWidth\":274,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":false,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":\"logLoadBalancerName\",\"scrollToRow\":8,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":33,\"inputList\":[{\"datasetId\":\"${dataset_id_gcp_logs}\",\"inputName\":\"Backup_Google/GCP/Logs\",\"inputRole\":\"Data\",\"isUserInput\":false},{\"inputName\":\"loadBalancer\",\"inputRole\":\"Data\",\"isUserInput\":true,\"parameterId\":\"loadBalancer\"}],\"label\":\"audit logs - FrontEnds\",\"managers\":[{\"id\":\"imwdgmck\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-mitqf2ay\",\"type\":\"Timescrubber\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"limit\":1000,\"linkify\":true,\"loadEverything\":false,\"progressive\":true,\"resultKinds\":[\"ResultKindStats\",\"ResultKindData\",\"ResultKindSchema\",\"ResultKindProgress\"],\"rollup\":{}},\"renderType\":\"TABLE\",\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-xyxdploa\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"Backup_Google/GCP/Logs (${dataset_id_gcp_logs})\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-u3noqw7o\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-fctxid7j\",\"index\":1,\"isPinned\":false,\"name\":\"filter (custom)\",\"opal\":[\"filter ends_with(logName, \\\"cloudaudit.googleapis.com%2Factivity\\\")\",\"make_col resourceName:string(coalesce(jsonPayload.resourceName, protoPayload.resourceName))\",\"make_col resourceName:split_part(resourceName, \\\"/\\\", -1)\",\"exists resourceName = @loadBalancer.frontEnd\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"filter ends_with(logName, \\\"cloudaudit.googleapis.com%2Factivity\\\")\\nmake_col resourceName:string(coalesce(jsonPayload.resourceName, protoPayload.resourceName))\\nmake_col resourceName:split_part(resourceName, \\\"/\\\", -1)\\nexists resourceName = @loadBalancer.frontEnd\"},{\"id\":\"stage-3n2avegm\",\"input\":[{\"inputName\":\"audit logs - backendservices_-1y1t\",\"inputRole\":\"Data\",\"stageId\":\"stage-1y1tuw35\"},{\"inputName\":\"audit logs - urlmaps_-nwsj\",\"inputRole\":\"Data\",\"stageId\":\"stage-nwsjgiz1\"},{\"inputName\":\"audit logs - Target Proxies_-1su5\",\"inputRole\":\"Data\",\"stageId\":\"stage-1su5wy31\"},{\"inputName\":\"audit logs - FrontEnds_-mitq\",\"inputRole\":\"Data\",\"stageId\":\"stage-mitqf2ay\"}],\"layout\":{\"appearance\":\"VISIBLE\",\"dataTableViewState\":{\"autoTableHeight\":true,\"columnFooterHeight\":0,\"columnHeaderHeight\":29,\"columnOrderOverride\":{},\"columnVisibility\":{},\"columnWidths\":{\"logLoadBalancerName\":219,\"project_id\":180,\"tomatch\":202},\"containerWidth\":1265,\"contextMenuXCoord\":null,\"contextMenuYCoord\":null,\"defaultColumnWidth\":70,\"disableFixedLeftColumns\":false,\"eventLinkColumnId\":null,\"fetchPageSize\":100,\"hasCalculatedColumnWidths\":true,\"hasDoneAutoLayout\":false,\"maxColumnWidth\":400,\"maxMeasuredColumnWidth\":{},\"minColumnWidth\":60,\"minRowHeight\":30,\"preserveCellAndRowSelection\":true,\"rowHeaderWidth\":20,\"rowHeights\":{},\"rowSizeIncrement\":1,\"scrollToColumn\":\"logLoadBalancerName\",\"scrollToRow\":8,\"selection\":{\"cells\":{},\"columnSelectSequence\":[],\"columns\":{},\"highlightState\":{},\"rows\":{},\"selectionType\":\"table\"},\"shouldAutoLayout\":false,\"summaryColumnOrderOverride\":{},\"summaryColumnVisibility\":{},\"tableHeight\":0,\"tableView\":\"TABULAR\"},\"index\":34,\"inputList\":[{\"inputName\":\"audit logs - backendservices_-1y1t\",\"inputRole\":\"Data\",\"isUserInput\":false,\"stageId\":\"stage-1y1tuw35\"},{\"inputName\":\"audit logs - urlmaps_-nwsj\",\"inputRole\":\"Data\",\"isUserInput\":true,\"stageId\":\"stage-nwsjgiz1\"},{\"inputName\":\"audit logs - Target Proxies_-1su5\",\"inputRole\":\"Data\",\"isUserInput\":true,\"stageId\":\"stage-1su5wy31\"},{\"inputName\":\"audit logs - FrontEnds_-mitq\",\"inputRole\":\"Data\",\"isUserInput\":true,\"stageId\":\"stage-mitqf2ay\"}],\"label\":\"Audit Logs - LB Configuration Changes\",\"managers\":[{\"id\":\"t79xy25z\",\"isDisabled\":true,\"isResourceCountEnabled\":false,\"parentStageId\":\"stage-3n2avegm\",\"type\":\"Timescrubber\"},{\"columnId\":\"resource\",\"id\":\"vdvdgyhg\",\"isDisabled\":true,\"parentStageId\":\"stage-3n2avegm\",\"type\":\"FacetFilter\"}],\"queryPresentation\":{\"initialRollupFilter\":{\"mode\":\"Last\"},\"rollup\":{}},\"selectedStepId\":null,\"serializable\":true,\"steps\":[{\"columnStatsTable\":{\"columnFunctions\":{\"httpRequest\":\"count\",\"insertId\":\"count\",\"jsonPayload\":\"count\",\"labels\":\"count\",\"logName\":\"count\",\"messageId\":\"count\",\"protoPayload\":\"count\",\"resourceLabels\":\"count\",\"resourceName\":\"count\",\"resourceType\":\"count\",\"severity\":\"count\",\"textPayload\":\"count\",\"trace\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-dxo0ua51\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-yyxpvl5m\",\"index\":0,\"isPinned\":false,\"name\":\"Input Step\",\"opal\":[],\"queryPresentation\":{},\"renderType\":null,\"summary\":\"audit logs - backendservices_-1y1t (stage-1y1tuw35)\",\"type\":\"InputStep\"},{\"columnStatsTable\":{\"columnFunctions\":{\"httpRequest\":\"count\",\"insertId\":\"count\",\"jsonPayload\":\"count\",\"labels\":\"count\",\"logName\":\"count\",\"messageId\":\"count\",\"protoPayload\":\"count\",\"resourceLabels\":\"count\",\"resourceName\":\"count\",\"resourceType\":\"count\",\"severity\":\"count\",\"textPayload\":\"count\",\"trace\":\"count\"},\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":\"q-aoolv0xd\",\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\"],\"tableTypes\":[\"TABULAR\"]}},\"datasetQuery\":null,\"datasetQueryId\":{\"ignoreCompress\":false,\"queryId\":null,\"resultKinds\":[\"ResultKindSchema\",\"ResultKindData\",\"ResultKindStats\"],\"tableTypes\":[\"TABULAR\",\"SUMMARY\"]},\"id\":\"step-qf0gbh5l\",\"index\":1,\"isPinned\":false,\"name\":\"union (custom)\",\"opal\":[\"union @\\\"audit logs - urlmaps_-nwsj\\\", @\\\"audit logs - Target Proxies_-1su5\\\", @\\\"audit logs - FrontEnds_-mitq\\\"\",\"make_col \",\"\\tauthenticationInfo:protoPayload.authenticationInfo, \",\"    methodName:string(protoPayload.methodName), \",\"    resourceKind:split_part(string(protoPayload.resourceName), \\\"/\\\", -2),\",\"    response:object(protoPayload.response)\",\"   \",\"filter not is_null(response)\",\"\",\"pick_col \",\"\\ttimestamp, \",\"    resourceKind,\",\"    resourceName,\",\"    methodName, \",\"    authenticationInfo,\",\"    response\",\"\"],\"queryPresentation\":{},\"renderType\":null,\"type\":\"unknown\"}],\"type\":\"table\",\"viewModel\":{\"consoleValue\":null,\"railCollapseState\":{\"inputsOutputs\":false,\"minimap\":false,\"note\":true,\"script\":true},\"scriptTab\":\"SCRIPT\",\"showTimeRuler\":true,\"stageTab\":\"table\"}},\"pipeline\":\"union @\\\"audit logs - urlmaps_-nwsj\\\", @\\\"audit logs - Target Proxies_-1su5\\\", @\\\"audit logs - FrontEnds_-mitq\\\"\\nmake_col \\n\\tauthenticationInfo:protoPayload.authenticationInfo, \\n    methodName:string(protoPayload.methodName), \\n    resourceKind:split_part(string(protoPayload.resourceName), \\\"/\\\", -2),\\n    response:object(protoPayload.response)\\n   \\nfilter not is_null(response)\\n\\npick_col \\n\\ttimestamp, \\n    resourceKind,\\n    resourceName,\\n    methodName, \\n    authenticationInfo,\\n    response\\n\"}]",
  "workspace": null
}
